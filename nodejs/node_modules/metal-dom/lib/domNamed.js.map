{"version":3,"sources":["../src/domNamed.js"],"names":["addClasses","closest","append","buildFragment","contains","delegate","isNodeListLike","enterDocument","exitDocument","hasClass","isEmpty","match","next","on","once","parent","prepend","registerCustomEvent","removeChildren","removeClasses","replace","supportsEvent","toElement","toggleClasses","triggerEvent","elementsByTag_","supportCache_","customEvents","LAST_CONTAINER","USE_CAPTURE","blur","error","focus","invalid","load","scroll","elements","classes","length","i","addClassesWithNative_","addClassesWithoutNative_","element","split","forEach","className","classList","add","elementClassName","classesToAppend","indexOf","addElementListener_","eventName","listener","addToArr_","get","addSelectorListener_","selector","delegatingData","selectors","arr","key","value","push","attachDelegateEvent_","handle","handleDelegateEvent_","parentNode","child","childArr","Array","prototype","slice","call","appendChild","htmlString","tempDiv","document","createElement","innerHTML","removeChild","firstChild","fragment","createDocumentFragment","element1","element2","documentElement","selectorOrTarget","callback","defaultListener","customConfig","originalEvent","handler","bind","defaultListener_","isAbleToInteractWith_","node","eventObj","button","matchesSelector","tagName","disabled","val","item","body","event","normalizeDelegateEvent_","ret","container","currentTarget","defFns","triggerDelegatedListeners_","triggerDefaultDelegatedListeners_","delegateTarget","hasClassWithNative_","hasClassWithoutNative_","childNodes","nodeType","p","Element","m","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchFallback_","nodes","querySelectorAll","nextSibling","stopPropagation","stopPropagation_","stopImmediatePropagation","stopImmediatePropagation_","capture","addEventListener","domEventHandle","removeListener","apply","arguments","insertBefore","removeClassesWithNative_","removeClassesWithoutNative_","remove","trim","replaceChild","stopped","stoppedImmediate","Event","tag","hasOwnProperty","defaultPrevented","fn","defaultFns","currElement","target","limit","type","triggerElementListeners_","triggerSelectorListeners_","selectorOrElement","querySelector","toggleClassesWithNative_","toggleClassesWithoutNative_","toggle","classIndex","before","substring","after","lastContainer","listeners","triggerListeners_","payload","createEvent","initEvent","mixin","dispatchEvent","data","map","Object","keys"],"mappings":"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","file":"domNamed.js","sourcesContent":["'use strict';\n\nimport {\n\tisDef,\n\tisDefAndNotNull,\n\tisDocument,\n\tisDocumentFragment,\n\tisElement,\n\tisObject,\n\tisString,\n\tobject,\n} from 'metal';\nimport domData from './domData';\nimport DomDelegatedEventHandle from './DomDelegatedEventHandle';\nimport DomEventHandle from './DomEventHandle';\n\nconst elementsByTag_ = {};\nconst supportCache_ = {};\nexport const customEvents = {};\n\nconst LAST_CONTAINER = '__metal_last_container__';\nconst USE_CAPTURE = {\n\tblur: true,\n\terror: true,\n\tfocus: true,\n\tinvalid: true,\n\tload: true,\n\tscroll: true,\n};\n\n/**\n * Adds the requested CSS classes to an element.\n * @param {!Element|!Nodelist} elements The element or elements to add CSS classes to.\n * @param {string} classes CSS classes to add.\n */\nexport function addClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\taddClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\taddClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Adds the requested CSS classes to an element using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.add(className);\n\t\t}\n\t});\n}\n\n/**\n * IE11 doesn't support Element.classList.add function, this method\n * adds the requested CSS classes to an element without using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithoutNative_(element, classes) {\n\tconst elementClassName = ` ${element.className} `;\n\tlet classesToAppend = '';\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tconst className = classes[i];\n\n\t\tif (elementClassName.indexOf(` ${className} `) === -1) {\n\t\t\tclassesToAppend += ` ${className}`;\n\t\t}\n\t}\n\n\tif (classesToAppend) {\n\t\telement.className = element.className + classesToAppend;\n\t}\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate.\n * @param {!Element} element\n * @param {string} eventName\n * @param {!function()} listener\n * @private\n */\nfunction addElementListener_(element, eventName, listener) {\n\taddToArr_(domData.get(element, 'listeners', {}), eventName, listener);\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate\n * selectors.\n * @param {!Element} element\n * @param {string} eventName\n * @param {string} selector\n * @param {!function()} listener\n * @private\n */\nfunction addSelectorListener_(element, eventName, selector, listener) {\n\tconst delegatingData = domData.get(element, 'delegating', {});\n\taddToArr_(delegatingData[eventName].selectors, selector, listener);\n}\n\n/**\n * Adds a value to an array inside an object, creating it first if it doesn't\n * yet exist.\n * @param {!Array} arr\n * @param {string} key\n * @param {*} value\n * @private\n */\nfunction addToArr_(arr, key, value) {\n\tif (!arr[key]) {\n\t\tarr[key] = [];\n\t}\n\tarr[key].push(value);\n}\n\n/**\n * Attaches a delegate listener, unless there's already one attached.\n * @param {!Element} element\n * @param {string} eventName\n * @private\n */\nfunction attachDelegateEvent_(element, eventName) {\n\tlet delegatingData = domData.get(element, 'delegating', {});\n\tif (!delegatingData[eventName]) {\n\t\tdelegatingData[eventName] = {\n\t\t\thandle: on(\n\t\t\t\telement,\n\t\t\t\teventName,\n\t\t\t\thandleDelegateEvent_,\n\t\t\t\t!!USE_CAPTURE[eventName]\n\t\t\t),\n\t\t\tselectors: {},\n\t\t};\n\t}\n}\n\n/**\n * IE11 doesn't support Element.closest function, this method\n * gets the closest element up the tree from the given element (including\n * itself) that matches the specified selector, or null if none match.\n * @param {Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function closest(element, selector) {\n\twhile (element && !match(element, selector)) {\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\n/**\n * IE11 doesn't support Element.classList.add function, this method\n * appends a child node with text or other nodes to a parent node. If\n * child is a HTML string it will be automatically converted to a document\n * fragment before appending it to the parent.\n * @param {!Element} parent The node to append nodes to.\n * @param {!(Element|NodeList|string)} child The thing to append to the parent.\n * @return {!Element} The appended child.\n */\nexport function append(parent, child) {\n\tif (isString(child)) {\n\t\tchild = buildFragment(child);\n\t}\n\tif (isNodeListLike(child)) {\n\t\tconst childArr = Array.prototype.slice.call(child);\n\t\tfor (let i = 0; i < childArr.length; i++) {\n\t\t\tparent.appendChild(childArr[i]);\n\t\t}\n\t} else {\n\t\tparent.appendChild(child);\n\t}\n\treturn child;\n}\n\n/**\n * Helper for converting a HTML string into a document fragment.\n * @param {string} htmlString The HTML string to convert.\n * @return {!Element} The resulting document fragment.\n */\nexport function buildFragment(htmlString) {\n\tconst tempDiv = document.createElement('div');\n\ttempDiv.innerHTML = `<br>${htmlString}`;\n\ttempDiv.removeChild(tempDiv.firstChild);\n\n\tconst fragment = document.createDocumentFragment();\n\twhile (tempDiv.firstChild) {\n\t\tfragment.appendChild(tempDiv.firstChild);\n\t}\n\treturn fragment;\n}\n\n/**\n * Checks if the first element contains the second one.\n * @deprecated Use element1.contains(element2) directly instead of this method\n * @param {!Element} element1\n * @param {!Element} element2\n * @return {boolean}\n */\nexport function contains(element1, element2) {\n\tif (isDocument(element1)) {\n\t\t// document.contains is not defined on IE9, so call it on documentElement instead.\n\t\treturn element1.documentElement.contains(element2);\n\t} else {\n\t\treturn element1.contains(element2);\n\t}\n}\n\n/**\n * Listens to the specified event on the given DOM element, but only calls the\n * given callback listener when it's triggered by elements that match the\n * given selector or target element.\n * @param {!Element} element The DOM element the event should be listened on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!Element|string} selectorOrTarget Either an element or css selector\n *     that should match the event for the listener to be triggered.\n * @param {!function(!Object)} callback Function to be called when the event\n *     is triggered. It will receive the normalized event object.\n * @param {boolean=} defaultListener Optional flag indicating if this is a default\n *     listener. That means that it would only be executed after all non\n *     default listeners, and only if the event isn't prevented via\n *     `preventDefault`.\n * @return {!EventHandle} Can be used to remove the listener.\n */\nexport function delegate(\n\telement,\n\teventName,\n\tselectorOrTarget,\n\tcallback,\n\tdefaultListener\n) {\n\tconst customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.delegate) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\n\tif (defaultListener) {\n\t\t// Wrap callback so we don't set property directly on it.\n\t\tcallback = callback.bind();\n\t\tcallback.defaultListener_ = true;\n\t}\n\n\tattachDelegateEvent_(element, eventName);\n\tif (isString(selectorOrTarget)) {\n\t\taddSelectorListener_(element, eventName, selectorOrTarget, callback);\n\t} else {\n\t\taddElementListener_(selectorOrTarget, eventName, callback);\n\t}\n\n\treturn new DomDelegatedEventHandle(\n\t\tisString(selectorOrTarget) ? element : selectorOrTarget,\n\t\teventName,\n\t\tcallback,\n\t\tisString(selectorOrTarget) ? selectorOrTarget : null\n\t);\n}\n\n/**\n * Verifies if the element is able to trigger the Click event,\n * simulating browsers behaviour, avoiding event listeners to be called by triggerEvent method.\n * @param {Element} node Element to be checked.\n * @param {string} eventName The event name.\n * @param {Object=} eventObj\n * @private\n * @return {boolean}\n */\nfunction isAbleToInteractWith_(node, eventName, eventObj) {\n\tif (eventObj && eventName === 'click' && eventObj.button === 2) {\n\t\t// Firefox triggers \"click\" events on the document for right clicks. This\n\t\t// causes our delegate logic to trigger it for regular elements too, which\n\t\t// shouldn't happen. Ignoring them here.\n\t\treturn false;\n\t}\n\n\tconst matchesSelector = [\n\t\t'BUTTON',\n\t\t'INPUT',\n\t\t'SELECT',\n\t\t'TEXTAREA',\n\t\t'FIELDSET',\n\t];\n\tif (eventName === 'click' && matchesSelector.indexOf(node.tagName) > -1) {\n\t\treturn !(node.disabled || parent(node, 'fieldset[disabled]'));\n\t}\n\treturn true;\n}\n\n/**\n * Returns true if the specified value is a NodeList or like one.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is like a NodeList.\n */\nexport function isNodeListLike(val) {\n\treturn (\n\t\tisDefAndNotNull(val) &&\n\t\ttypeof val.length === 'number' &&\n\t\ttypeof val.item === 'function'\n\t);\n}\n\n/**\n * Inserts node in document as last element.\n * @param {Element} node Element to remove children from.\n */\nexport function enterDocument(node) {\n\tnode && append(document.body, node);\n}\n\n/**\n * Removes node from document.\n * @param {Element} node Element to remove children from.\n */\nexport function exitDocument(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * This is called when an event is triggered by a delegate listener. All\n * matching listeners of this event type from `target` to `currentTarget` will\n * be triggered.\n * @param {!Event} event The event payload.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction handleDelegateEvent_(event) {\n\tnormalizeDelegateEvent_(event);\n\tlet ret = true;\n\tconst container = event.currentTarget;\n\tconst defFns = [];\n\n\tret &= triggerDelegatedListeners_(container, event, defFns);\n\tret &= triggerDefaultDelegatedListeners_(defFns, event);\n\n\tevent.delegateTarget = null;\n\tevent[LAST_CONTAINER] = container;\n\treturn ret;\n}\n\n/**\n * Checks if the given element has the requested css class.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n\tif ('classList' in element) {\n\t\treturn hasClassWithNative_(element, className);\n\t} else {\n\t\treturn hasClassWithoutNative_(element, className);\n\t}\n}\n\n/**\n * Checks if the given element has the requested css class using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithNative_(element, className) {\n\treturn (\n\t\tclassName.indexOf(' ') === -1 && element.classList.contains(className)\n\t);\n}\n\n/**\n * Checks if the given element has the requested css class without using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithoutNative_(element, className) {\n\treturn (\n\t\t` ${element.className} `.indexOf(` ${className} `) >= 0 &&\n\t\tclassName.split(' ').length === 1\n\t);\n}\n\n/**\n * Checks if the given element is empty or not.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isEmpty(element) {\n\treturn element.childNodes.length === 0;\n}\n\n/**\n * IE11 doesn't support Element.matches function, this method\n * check if an element matches a given selector.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n */\nexport function match(element, selector) {\n\tif (!element || element.nodeType !== 1) {\n\t\treturn false;\n\t}\n\n\tconst p = Element.prototype;\n\tconst m =\n\t\tp.matches ||\n\t\tp.webkitMatchesSelector ||\n\t\tp.mozMatchesSelector ||\n\t\tp.msMatchesSelector ||\n\t\tp.oMatchesSelector;\n\tif (m) {\n\t\treturn m.call(element, selector);\n\t}\n\n\treturn matchFallback_(element, selector);\n}\n\n/**\n * Check if an element matches a given selector, using an internal implementation\n * instead of calling existing javascript functions.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n * @private\n */\nfunction matchFallback_(element, selector) {\n\tconst parentNode = element.parentNode;\n\n\tif (parentNode) {\n\t\tconst nodes = parentNode.querySelectorAll(selector);\n\n\t\tfor (let i = 0; i < nodes.length; ++i) {\n\t\t\tif (nodes[i] === element) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\n/**\n * Returns the next sibling of the given element that matches the specified\n * selector, or null if there is none.\n * @param {!Element} element\n * @param {?string} selector\n * @return {Element|null}\n */\nexport function next(element, selector) {\n\tdo {\n\t\telement = element.nextSibling;\n\t\tif (element && match(element, selector)) {\n\t\t\treturn element;\n\t\t}\n\t} while (element);\n\treturn null;\n}\n\n/**\n * Normalizes the event payload for delegate listeners.\n * @param {!Event} event\n * @private\n */\nfunction normalizeDelegateEvent_(event) {\n\tevent.stopPropagation = stopPropagation_;\n\tevent.stopImmediatePropagation = stopImmediatePropagation_;\n}\n\n/**\n * Listens to the specified event on the given DOM element. This function normalizes\n * DOM event payloads and functions so they'll work the same way on all supported\n * browsers.\n * @param {!Element|string} element The DOM element to listen to the event on, or\n *   a selector that should be delegated on the entire document.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event is\n *   triggered. It will receive the normalized event object.\n * @param {boolean} capture Flag indicating if listener should be triggered\n *   during capture phase, instead of during the bubbling phase. Defaults to false.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function on(element, eventName, callback, capture) {\n\tif (isString(element)) {\n\t\treturn delegate(document, eventName, element, callback);\n\t}\n\tconst customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.event) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\telement.addEventListener(eventName, callback, capture);\n\treturn new DomEventHandle(element, eventName, callback, capture);\n}\n\n/**\n * IE11 doesn't support once event listener option, this method\n * Listens to the specified event on the given DOM element once. This\n * function normalizes DOM event payloads and functions so they'll work the\n * same way on all supported browsers.\n * @param {!Element} element The DOM element to listen to the event on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event\n *   is triggered. It will receive the normalized event object.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function once(element, eventName, callback) {\n\tconst domEventHandle = on(element, eventName, function() {\n\t\tdomEventHandle.removeListener();\n\t\treturn callback.apply(this, arguments); // eslint-disable-line\n\t});\n\treturn domEventHandle;\n}\n\n/**\n * Gets the first parent from the given element that matches the specified\n * selector, or null if none match.\n * @param {!Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function parent(element, selector) {\n\treturn closest(element.parentNode, selector);\n}\n\n/**\n * IE11 doesn't support Element.prepend function, this method\n * inserts a node before first child of the parent. If child is a HTML string\n * it will be converted to document fragment before prepending it to the parent.\n * @param {!Element} parent The node to prepend to.\n * @param {!(Element|NodeList|string)} child The thing to prepend to the parent.\n * @return {!Element} The prepended child.\n */\nexport function prepend(parent, child) {\n\tif (isString(child)) {\n\t\tchild = buildFragment(child);\n\t}\n\n\tif (!isNodeListLike(child) && !isDefAndNotNull(parent.firstChild)) {\n\t\treturn append(parent, child);\n\t}\n\n\tif (isNodeListLike(child)) {\n\t\tconst childArr = Array.prototype.slice.call(child);\n\t\tfor (let i = childArr.length - 1; i >= 0; i--) {\n\t\t\tparent.insertBefore(childArr[i], parent.firstChild);\n\t\t}\n\t} else {\n\t\tparent.insertBefore(child, parent.firstChild);\n\t}\n\n\treturn child;\n}\n\n/**\n * Registers a custom event.\n * @param {string} eventName The name of the custom event.\n * @param {!Object} customConfig An object with information about how the event\n *   should be handled.\n */\nexport function registerCustomEvent(eventName, customConfig) {\n\tcustomEvents[eventName] = customConfig;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Element} node Element to remove children from.\n */\nexport function removeChildren(node) {\n\tlet child;\n\twhile ((child = node.firstChild)) {\n\t\tnode.removeChild(child);\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element.\n * @param {!Element|!NodeList} elements The element or elements to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n */\nexport function removeClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\tremoveClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\tremoveClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.remove(className);\n\t\t}\n\t});\n}\n\n/**\n * IE11 doesn't support Element.classList, this method\n * removes the requested CSS classes from an element without using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithoutNative_(element, classes) {\n\tlet elementClassName = ` ${element.className} `;\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\telementClassName = elementClassName.replace(` ${classes[i]} `, ' ');\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Replaces the first element with the second.\n * @deprecated Use element1.parentNode.replaceChild(element2, element1)\n * directly instead of this method\n * @param {Element} element1\n * @param {Element} element2\n */\nexport function replace(element1, element2) {\n\tif (element1 && element2 && element1 !== element2 && element1.parentNode) {\n\t\telement1.parentNode.replaceChild(element2, element1);\n\t}\n}\n\n/**\n * The function that replaces `stopImmediatePropagation_` for events.\n * @private\n */\nfunction stopImmediatePropagation_() {\n\tconst event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tevent.stoppedImmediate = true;\n\tEvent.prototype.stopImmediatePropagation.call(event);\n}\n\n/**\n * The function that replaces `stopPropagation` for events.\n * @private\n */\nfunction stopPropagation_() {\n\tconst event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tEvent.prototype.stopPropagation.call(event);\n}\n\n/**\n * Checks if the given element supports the given event type.\n * @param {!Element|string} element The DOM element or element tag name to check.\n * @param {string} eventName The name of the event to check.\n * @return {boolean}\n */\nexport function supportsEvent(element, eventName) {\n\tif (customEvents[eventName]) {\n\t\treturn true;\n\t}\n\n\tif (isString(element)) {\n\t\tif (!elementsByTag_[element]) {\n\t\t\telementsByTag_[element] = document.createElement(element);\n\t\t}\n\t\telement = elementsByTag_[element];\n\t}\n\n\tconst tag = element.tagName;\n\tif (!supportCache_[tag] || !supportCache_[tag].hasOwnProperty(eventName)) {\n\t\tsupportCache_[tag] = supportCache_[tag] || {};\n\t\tsupportCache_[tag][eventName] = 'on' + eventName in element;\n\t}\n\treturn supportCache_[tag][eventName];\n}\n\n/**\n * This triggers all default matched delegated listeners of a given event type.\n * @param {!Array} defFns Array to collect default listeners in, instead\n * @param {!Event} event\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDefaultDelegatedListeners_(defFns, event) {\n\tlet ret = true;\n\n\tfor (let i = 0; i < defFns.length && !event.defaultPrevented; i++) {\n\t\tevent.delegateTarget = defFns[i].element;\n\t\tret &= defFns[i].fn(event);\n\t}\n\n\treturn ret;\n}\n\n/**\n * This triggers all matched delegated listeners of a given event type when its\n * delegated target is able to interact.\n * @param {!Element} container\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDelegatedListeners_(container, event, defaultFns) {\n\tlet ret = true;\n\tlet currElement = event.target;\n\tconst limit = container.parentNode;\n\n\twhile (currElement && currElement !== limit && !event.stopped) {\n\t\tif (isAbleToInteractWith_(currElement, event.type, event)) {\n\t\t\tevent.delegateTarget = currElement;\n\t\t\tret &= triggerElementListeners_(currElement, event, defaultFns);\n\t\t\tret &= triggerSelectorListeners_(\n\t\t\t\tcontainer,\n\t\t\t\tcurrElement,\n\t\t\t\tevent,\n\t\t\t\tdefaultFns\n\t\t\t);\n\t\t}\n\t\tcurrElement = currElement.parentNode;\n\t}\n\n\treturn ret;\n}\n\n/**\n * Converts the given argument to a DOM element. Strings are assumed to\n * be selectors, and so a matched element will be returned. If the arg\n * is already a DOM element it will be the return value.\n * @param {string|Element|Document} selectorOrElement\n * @return {Element} The converted element, or null if none was found.\n */\nexport function toElement(selectorOrElement) {\n\tif (\n\t\tisElement(selectorOrElement) ||\n\t\tisDocument(selectorOrElement) ||\n\t\tisDocumentFragment(selectorOrElement)\n\t) {\n\t\treturn selectorOrElement;\n\t} else if (isString(selectorOrElement)) {\n\t\treturn document.querySelector(selectorOrElement);\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element. If any of the classes\n * is present, it will be removed from the element, or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n */\nexport function toggleClasses(element, classes) {\n\tif (!isObject(element) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif ('classList' in element) {\n\t\ttoggleClassesWithNative_(element, classes);\n\t} else {\n\t\ttoggleClassesWithoutNative_(element, classes);\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\telement.classList.toggle(className);\n\t});\n}\n\n/**\n * IE11 doesn't support Element.classList, this method\n * adds or removes one or more classes from an element without using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithoutNative_(element, classes) {\n\tlet elementClassName = ` ${element.className} `;\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tconst className = ` ${classes[i]} `;\n\t\tconst classIndex = elementClassName.indexOf(className);\n\n\t\tif (classIndex === -1) {\n\t\t\telementClassName = `${elementClassName}${classes[i]} `;\n\t\t} else {\n\t\t\tconst before = elementClassName.substring(0, classIndex);\n\t\t\tconst after = elementClassName.substring(\n\t\t\t\tclassIndex + className.length\n\t\t\t); // eslint-disable-line\n\t\t\telementClassName = `${before} ${after}`;\n\t\t}\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Triggers all listeners for the given event type that are stored in the\n * specified element.\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerElementListeners_(element, event, defaultFns) {\n\tconst lastContainer = event[LAST_CONTAINER];\n\tif (!isDef(lastContainer) || !contains(lastContainer, element)) {\n\t\tconst listeners = domData.get(element, 'listeners', {})[event.type];\n\t\treturn triggerListeners_(listeners, event, element, defaultFns);\n\t}\n\treturn true;\n}\n\n/**\n * Triggers the specified event on the given element.\n * NOTE: This should mostly be used for testing, not on real code.\n * @param {!Element} element The node that should trigger the event.\n * @param {string} eventName The name of the event to be triggred.\n * @param {Object=} eventObj An object with data that should be on the\n *   triggered event's payload.\n */\nexport function triggerEvent(element, eventName, eventObj) {\n\tif (isAbleToInteractWith_(element, eventName, eventObj)) {\n\t\tconst payload = document.createEvent('HTMLEvents');\n\t\tpayload.initEvent(eventName, true, true);\n\t\tobject.mixin(payload, eventObj);\n\t\telement.dispatchEvent(payload);\n\t}\n}\n\n/**\n * Triggers the given listeners array.\n * @param {Array<!function()>} listeners\n * @param {!Event} event\n * @param {!Element} element\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerListeners_(listeners, event, element, defaultFns) {\n\tlet ret = true;\n\tlisteners = listeners || [];\n\tfor (let i = 0; i < listeners.length && !event.stoppedImmediate; i++) {\n\t\tif (listeners[i].defaultListener_) {\n\t\t\tdefaultFns.push({\n\t\t\t\telement,\n\t\t\t\tfn: listeners[i],\n\t\t\t});\n\t\t} else {\n\t\t\tret &= listeners[i](event);\n\t\t}\n\t}\n\treturn ret;\n}\n\n/**\n * Triggers all selector listeners for the given event.\n * @param {!Element} container\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerSelectorListeners_(container, element, event, defaultFns) {\n\tlet ret = true;\n\tconst data = domData.get(container, 'delegating', {});\n\tconst map = data[event.type].selectors;\n\tconst selectors = Object.keys(map);\n\tfor (let i = 0; i < selectors.length && !event.stoppedImmediate; i++) {\n\t\tif (match(element, selectors[i])) {\n\t\t\tconst listeners = map[selectors[i]];\n\t\t\tret &= triggerListeners_(listeners, event, element, defaultFns);\n\t\t}\n\t}\n\treturn ret;\n}\n"]}